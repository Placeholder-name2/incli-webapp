{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ajm322/Documents/pet-projects/ProjectX/trending-webapp/app/src/components/api/SpotifyApi.js\";\nimport React from 'react';\nimport TwitterItem from './TwitterItem';\nimport { Tweet } from '../../../node_modules/react-twitter-widgets';\n\nclass SpotifyApi extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      spotifyUrl: '',\n      playlistName: ''\n    };\n  }\n\n  componentDidMount() {\n    this.getFeaturedItems();\n  }\n\n  getFeaturedItems() {\n    const proxy = 'https://cors-anywhere.herokuapp.com/';\n    const api = `${proxy}https://api.spotify.com/v1/browse/featured-playlists`; //?limit=50`;\n\n    console.log();\n    fetch(api, {\n      // FIXME: token will time-out\n      headers: new Headers({\n        Authorization: 'Bearer BQAGXZO5x045BT_NDepK_TzDM2rZMkpcuCIUJlz0LucWxzmArFMvEIp1PdepHLt1mvmBMW2KxKwgjjA1ZuvDSs8M95r-Yjyhc_-f3mlEHQV3qU-11D8a_dYVC4iCk8MMAbpt-MurNirVdlEqtVPxp3ElA34Dn3U'\n      })\n    }).then(result => result.json()).then(spotifyFeaturedResult => {\n      console.log(spotifyFeaturedResult);\n      const index = Math.floor(Math.random() * spotifyFeaturedResult.playlists.items.length);\n      this.setState({\n        spotifyUrl: spotifyFeaturedResult.playlists.items[index].external_urls.spotify.replace('https://open.spotify.com/', 'https://open.spotify.com/embed/'),\n        playlistName: spotifyFeaturedResult.playlists.items[index].description,\n        isLoaded: true\n      });\n    });\n  }\n\n  render() {\n    const {\n      error,\n      isLoaded,\n      spotifyUrl,\n      playlistName\n    } = this.state;\n\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Error: Fail\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 14\n      }, this);\n    } else if (!isLoaded) {\n      return /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 14\n      }, this);\n    } else {\n      console.log(spotifyUrl);\n      return /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Trending right now on Spotify: \", playlistName]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n          title: \"spotify-test\",\n          src: spotifyUrl,\n          width: \"300\",\n          height: \"380\",\n          frameborder: \"0\",\n          allowtransparency: \"true\",\n          allow: \"encrypted-media\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default SpotifyApi;","map":{"version":3,"sources":["/Users/ajm322/Documents/pet-projects/ProjectX/trending-webapp/app/src/components/api/SpotifyApi.js"],"names":["React","TwitterItem","Tweet","SpotifyApi","Component","constructor","props","state","error","isLoaded","spotifyUrl","playlistName","componentDidMount","getFeaturedItems","proxy","api","console","log","fetch","headers","Headers","Authorization","then","result","json","spotifyFeaturedResult","index","Math","floor","random","playlists","items","length","setState","external_urls","spotify","replace","description","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,SAASC,KAAT,QAAsB,6CAAtB;;AAEA,MAAMC,UAAN,SAAyBH,KAAK,CAACI,SAA/B,CAAyC;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,KAAK,EAAE,IADI;AAEXC,MAAAA,QAAQ,EAAE,KAFC;AAGXC,MAAAA,UAAU,EAAE,EAHD;AAIXC,MAAAA,YAAY,EAAE;AAJH,KAAb;AAMD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKC,gBAAL;AACD;;AACDA,EAAAA,gBAAgB,GAAG;AACjB,UAAMC,KAAK,GAAG,sCAAd;AACA,UAAMC,GAAG,GAAI,GAAED,KAAM,sDAArB,CAFiB,CAE2D;;AAE5EE,IAAAA,OAAO,CAACC,GAAR;AACAC,IAAAA,KAAK,CAACH,GAAD,EAAM;AACT;AACAI,MAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AACnBC,QAAAA,aAAa,EACX;AAFiB,OAAZ;AAFA,KAAN,CAAL,CAOGC,IAPH,CAOSC,MAAD,IAAYA,MAAM,CAACC,IAAP,EAPpB,EAQGF,IARH,CAQSG,qBAAD,IAA2B;AAC/BT,MAAAA,OAAO,CAACC,GAAR,CAAYQ,qBAAZ;AACA,YAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBJ,qBAAqB,CAACK,SAAtB,CAAgCC,KAAhC,CAAsCC,MAAjE,CAAd;AACA,WAAKC,QAAL,CAAc;AACZvB,QAAAA,UAAU,EAAEe,qBAAqB,CAACK,SAAtB,CAAgCC,KAAhC,CAAsCL,KAAtC,EAA6CQ,aAA7C,CAA2DC,OAA3D,CAAmEC,OAAnE,CACV,2BADU,EAEV,iCAFU,CADA;AAKZzB,QAAAA,YAAY,EAAEc,qBAAqB,CAACK,SAAtB,CAAgCC,KAAhC,CAAsCL,KAAtC,EAA6CW,WAL/C;AAMZ5B,QAAAA,QAAQ,EAAE;AANE,OAAd;AAQD,KAnBH;AAoBD;;AAED6B,EAAAA,MAAM,GAAG;AACP,UAAM;AAAE9B,MAAAA,KAAF;AAASC,MAAAA,QAAT;AAAmBC,MAAAA,UAAnB;AAA+BC,MAAAA;AAA/B,QAAgD,KAAKJ,KAA3D;;AACA,QAAIC,KAAJ,EAAW;AACT,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFD,MAEO,IAAI,CAACC,QAAL,EAAe;AACpB,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAP;AACD,KAFM,MAEA;AACLO,MAAAA,OAAO,CAACC,GAAR,CAAYP,UAAZ;AACA,0BACE;AAAA,gCACE;AAAA,wDAAqCC,YAArC;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE;AACE,UAAA,KAAK,EAAC,cADR;AAEE,UAAA,GAAG,EAAED,UAFP;AAGE,UAAA,KAAK,EAAC,KAHR;AAIE,UAAA,MAAM,EAAC,KAJT;AAKE,UAAA,WAAW,EAAC,GALd;AAME,UAAA,iBAAiB,EAAC,MANpB;AAOE,UAAA,KAAK,EAAC;AAPR;AAAA;AAAA;AAAA;AAAA,gBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAcD;AACF;;AAhEsC;;AAkEzC,eAAeP,UAAf","sourcesContent":["import React from 'react';\nimport TwitterItem from './TwitterItem';\nimport { Tweet } from '../../../node_modules/react-twitter-widgets';\n\nclass SpotifyApi extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: null,\n      isLoaded: false,\n      spotifyUrl: '',\n      playlistName: '',\n    };\n  }\n\n  componentDidMount() {\n    this.getFeaturedItems();\n  }\n  getFeaturedItems() {\n    const proxy = 'https://cors-anywhere.herokuapp.com/';\n    const api = `${proxy}https://api.spotify.com/v1/browse/featured-playlists`; //?limit=50`;\n\n    console.log();\n    fetch(api, {\n      // FIXME: token will time-out\n      headers: new Headers({\n        Authorization:\n          'Bearer BQAGXZO5x045BT_NDepK_TzDM2rZMkpcuCIUJlz0LucWxzmArFMvEIp1PdepHLt1mvmBMW2KxKwgjjA1ZuvDSs8M95r-Yjyhc_-f3mlEHQV3qU-11D8a_dYVC4iCk8MMAbpt-MurNirVdlEqtVPxp3ElA34Dn3U',\n      }),\n    })\n      .then((result) => result.json())\n      .then((spotifyFeaturedResult) => {\n        console.log(spotifyFeaturedResult);\n        const index = Math.floor(Math.random() * spotifyFeaturedResult.playlists.items.length);\n        this.setState({\n          spotifyUrl: spotifyFeaturedResult.playlists.items[index].external_urls.spotify.replace(\n            'https://open.spotify.com/',\n            'https://open.spotify.com/embed/'\n          ),\n          playlistName: spotifyFeaturedResult.playlists.items[index].description,\n          isLoaded: true,\n        });\n      });\n  }\n\n  render() {\n    const { error, isLoaded, spotifyUrl, playlistName } = this.state;\n    if (error) {\n      return <div>Error: Fail</div>;\n    } else if (!isLoaded) {\n      return <ul>Loading...</ul>;\n    } else {\n      console.log(spotifyUrl);\n      return (\n        <ul>\n          <div>Trending right now on Spotify: {playlistName}</div>\n          <iframe\n            title=\"spotify-test\"\n            src={spotifyUrl}\n            width=\"300\"\n            height=\"380\"\n            frameborder=\"0\"\n            allowtransparency=\"true\"\n            allow=\"encrypted-media\"\n          ></iframe>\n        </ul>\n      );\n    }\n  }\n}\nexport default SpotifyApi;\n"]},"metadata":{},"sourceType":"module"}