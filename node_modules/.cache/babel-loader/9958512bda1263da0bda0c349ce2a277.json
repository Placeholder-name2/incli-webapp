{"ast":null,"code":"// Need aws credentials file in default directory to work\nvar AWS = require('aws-sdk'); // Initialize the Amazon Cognito credentials provider\n\n\nAWS.config.region = 'eu-north-1'; // Region\n\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: 'eu-north-1:fe098a1d-2503-4ea1-9ded-68da1fede9e8' // RoleArn: 'arn:aws:iam::990232125707:role/Cognito_trending_webappUnauth_Role',\n  // AccountId: '990232125707', // your AWS account ID\n\n}); //AWS.config.update({ region: process.env.REGION });\n\nvar ddb = new AWS.DynamoDB.DocumentClient(); //({ apiVersion: '2012-08-10' });\n\nasync function getDatabaseItems(tableName) {\n  var params = {\n    TableName: tableName,\n    Select: 'ALL_ATTRIBUTES'\n  };\n  const databaseItems = await ddb.scan(params, function (err, data) {\n    if (err) {\n      console.error('Unable to read item. Error JSON:', JSON.stringify(err, null, 2));\n      return '';\n    } else {\n      const databaseItemsString = JSON.stringify(data, null, 2);\n      return JSON.parse(databaseItemsString);\n    }\n  }).promise();\n  return databaseItems;\n}\n\nexport default getDatabaseItems;","map":{"version":3,"sources":["/Users/ajm322/Documents/pet-projects/ProjectX/incli-webapp/src/dynamodb/database.js"],"names":["AWS","require","config","region","credentials","CognitoIdentityCredentials","IdentityPoolId","ddb","DynamoDB","DocumentClient","getDatabaseItems","tableName","params","TableName","Select","databaseItems","scan","err","data","console","error","JSON","stringify","databaseItemsString","parse","promise"],"mappings":"AAAA;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAC,SAAD,CAAjB,C,CAEA;;;AACAD,GAAG,CAACE,MAAJ,CAAWC,MAAX,GAAoB,YAApB,C,CAAkC;;AAClCH,GAAG,CAACE,MAAJ,CAAWE,WAAX,GAAyB,IAAIJ,GAAG,CAACK,0BAAR,CAAmC;AAC1DC,EAAAA,cAAc,EAAE,iDAD0C,CAE1D;AACA;;AAH0D,CAAnC,CAAzB,C,CAMA;;AAEA,IAAIC,GAAG,GAAG,IAAIP,GAAG,CAACQ,QAAJ,CAAaC,cAAjB,EAAV,C,CAA6C;;AAE7C,eAAeC,gBAAf,CAAgCC,SAAhC,EAA2C;AACzC,MAAIC,MAAM,GAAG;AACXC,IAAAA,SAAS,EAAEF,SADA;AAEXG,IAAAA,MAAM,EAAE;AAFG,GAAb;AAKA,QAAMC,aAAa,GAAG,MAAMR,GAAG,CAC5BS,IADyB,CACpBJ,MADoB,EACZ,UAAUK,GAAV,EAAeC,IAAf,EAAqB;AACjC,QAAID,GAAJ,EAAS;AACPE,MAAAA,OAAO,CAACC,KAAR,CAAc,kCAAd,EAAkDC,IAAI,CAACC,SAAL,CAAeL,GAAf,EAAoB,IAApB,EAA0B,CAA1B,CAAlD;AACA,aAAO,EAAP;AACD,KAHD,MAGO;AACL,YAAMM,mBAAmB,GAAGF,IAAI,CAACC,SAAL,CAAeJ,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAA5B;AACA,aAAOG,IAAI,CAACG,KAAL,CAAWD,mBAAX,CAAP;AACD;AACF,GATyB,EAUzBE,OAVyB,EAA5B;AAYA,SAAOV,aAAP;AACD;;AAED,eAAeL,gBAAf","sourcesContent":["// Need aws credentials file in default directory to work\n\nvar AWS = require('aws-sdk');\n\n// Initialize the Amazon Cognito credentials provider\nAWS.config.region = 'eu-north-1'; // Region\nAWS.config.credentials = new AWS.CognitoIdentityCredentials({\n  IdentityPoolId: 'eu-north-1:fe098a1d-2503-4ea1-9ded-68da1fede9e8',\n  // RoleArn: 'arn:aws:iam::990232125707:role/Cognito_trending_webappUnauth_Role',\n  // AccountId: '990232125707', // your AWS account ID\n});\n\n//AWS.config.update({ region: process.env.REGION });\n\nvar ddb = new AWS.DynamoDB.DocumentClient(); //({ apiVersion: '2012-08-10' });\n\nasync function getDatabaseItems(tableName) {\n  var params = {\n    TableName: tableName,\n    Select: 'ALL_ATTRIBUTES',\n  };\n\n  const databaseItems = await ddb\n    .scan(params, function (err, data) {\n      if (err) {\n        console.error('Unable to read item. Error JSON:', JSON.stringify(err, null, 2));\n        return '';\n      } else {\n        const databaseItemsString = JSON.stringify(data, null, 2);\n        return JSON.parse(databaseItemsString);\n      }\n    })\n    .promise();\n\n  return databaseItems;\n}\n\nexport default getDatabaseItems;\n"]},"metadata":{},"sourceType":"module"}